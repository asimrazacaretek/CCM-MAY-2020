@model IEnumerable<CCM.Models.DoctorVisit>

<div>
    @*<div class="custom-title">
        <h3>DOCTOR VISITS</h3>
    </div>*@
    <div class="col-md-12">
        <a class="btn btn-success logdetails" onclick="AjaxRefresh('DoctorVisit','_Create', '@ViewBag.PatientId','doctorVisit')"> Add New Visit</a>
    </div><br />
    <div class="clearfix"></div>
        <div class="col-md-12">
            <table class="table" id="DoctorTable">
                <thead>
                    <tr>
                        <th>Sr. No.</th>
                        <th>@Html.DisplayNameFor(model => model.VisitDate)</th>
                        <th>@Html.DisplayNameFor(model => model.VisitReason)</th>
                        <th>@Html.DisplayNameFor(model => model.NextAppointment)</th>
                        @*<th>@Html.DisplayNameFor(model => model.Email)</th>*@
                        <th>@Html.DisplayNameFor(model => model.AdditionalProviders)</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        var count = 0;
                        foreach (var item in Model)
                        {
                            count++;
                            <tr>
                                <td>@count</td>
                                <td>@item.VisitDate.ToShortDateString()</td>
                                <td>@item.VisitReason</td>
                                <td>
                                    @if (item.NextAppointment.ToShortDateString() != "1/1/1900")
                                    {@item.NextAppointment.ToShortDateString()}
                                </td>
                                @*<td>@item.Email</td>*@
                                <td>@item.AdditionalProviders</td>
                                <td>
                                    <a class="btn btn-sm btn-danger logdetails" onclick="AjaxActionReturns('DoctorVisit','_Delete', @item.Id)">Delete</a>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
</div><br /><br /><br />
<script>
       $('#DoctorTable').DataTable({
                pageLength: 25,
                "order": []
            });
</script>
@if (User.IsInRole("Liaison"))
{
    <SCRIPT type="text/javascript">

            function reviewTimePost() {
                
            }
    </SCRIPT>
}