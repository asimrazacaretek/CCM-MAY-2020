@model IEnumerable<CCM.Models.EmailHistory>

<table id="emailHistoryTable" class="display nowrap table-responsive" cellspacing="0" style="width:100%;" width="100%">
    <thead>
        <tr>
            <th>PatientID</th>
            <th>Date_Time</th>
            <th>From</th>
            <th>To</th>
            <th>Message</th>
            <th>Attachments</th>
        </tr>
    </thead>

    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @item.PatientId
                </td>
                <td>
                    @Convert.ToDateTime(item.DateTime).ToString("g")
                </td>
                <td>
                    @HelperExtensions.GetUserNamebyID(item.FromUser)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ToEmail)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Message)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.AttachmentsCount)
                </td>
            </tr>
        }
    </tbody>
</table>


<script>
    var table=$('#emailHistoryTable').DataTable({
        pageLength: 25,
        scrollY: "50vh",
        order: [[0, "desc"]],
        "sScrollX": "100%",
        "scrollX": true
    });
    
</script>