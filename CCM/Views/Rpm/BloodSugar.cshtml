@model CCM.Models.ViewModels.PatientBloodSugarReadingViewModel
@{
    Layout = null;
}
<style>
    .patientname {
        color: #1a8cf7 !important;
    }

    #BloodSugarLogsbody > tr > td {
        text-align: center !important;
        padding: 0px;
    }

    .Reading-value {
        font-weight: 800 !important;
        font-size: 15px
    }

    #BloodSugarLogsbody > tr > td > table > tbody > tr > td:nth-child(odd) {
        padding: 13px 0px;
        border-left: 0px;
        border-top: 0px;
        border-bottom: 0px;
    }

    #BloodSugarLogsbody > tr > td > table > tbody > tr :nth-child(even) {
        padding: 13px 0px;
        border-left: 0px;
        border-top: 0px;
        border-bottom: 0px;
        border-right: 0px;
    }

    .background-forDashboard {
        background: white;
        background-size: cover;
        height: 100%;
        box-shadow: black -2px -3px 24px 3px;
        margin: 15px;
    }

    #donutchart {
        height: 100%;
        width: 100%;
    }

    #LineChatGenrated {
        border-radius: 10px;
    }

    .mt-3 {
        margin-top: 1.5rem;
    }

    .custom-card {
        background-color: white;
        margin-bottom: 10px;
        margin-top: 10px;
        border-radius: 4px;
        overflow-y: auto;
    }

        .custom-card .heading {
            padding: 10px;
            font-size: 14px;
            font-weight: bolder;
            border-bottom: 1px solid darkgrey;
            border-bottom-style: dotted;
            background: #0364bd;
            color: white;
        }

        .custom-card .data-list {
            padding: 10px 10px;
            border-bottom: 1px solid darkgray;
            border-bottom-style: dotted;
        }

            .custom-card .data-list .dummy-image {
                font-size: 17px;
                padding: 8px;
                background-color: lightgray;
                border-radius: 50%;
            }

            .custom-card .data-list .person-name ul {
                font-size: 13px;
                padding: 0;
                list-style: none;
                position: absolute;
                left: 20%;
                margin-top: -27px;
                margin-left: 3px
            }

            .custom-card .data-list .count ul {
                list-style: none;
            }

            .custom-card .data-list .person-name small, .custom-card .data-list .count small {
                color: gray !important;
            }

    .canvasjs-chart-canvas {
        position: relative !important;
        border-radius: 4px;
    }

    .canvasjs-chart-container {
        border-radius: 4px;
    }

    .canvasjs-chart-credit {
        display: none;
    }

    .box-shadow {
        box-shadow: #8a8a8a 1px 0px 7px;
    }

    .TicketGeneral {
        font-size: 17px;
        padding: 15px;
        border-radius: 4px;
    }

    .color-white {
        color: white;
    }

    .filter-icons {
        position: absolute;
        top: 20px;
        background: #909090;
        color: white;
        padding: 6px;
        font-size: 8px;
    }

    .filter-label, .filter-input {
        margin-left: 40px;
    }

    .filter-label {
        font-size: 13px;
        font-weight: 600;
    }

    .filter-input input {
        width: 100%;
        height: 33px;
        border: 1px solid #000000;
        border-radius: 1px;
    }


    #TicketCreationListView .modal-body label {
        text-align: left;
        font-weight: 500;
        padding-left: 95px;
        margin-top: 4px;
    }

    .filters-row-custom {
        padding: 18px;
        border-radius: 4px;
    }

    .Chartslinks {
        padding: 20px;
        font-size: 15px;
        text-decoration: underline;
        cursor: pointer;
        color: blue;
    }

    .select2-choice {
        height: 34px !important;
        border-radius: 0px;
        border-color: black;
        border: 3px solid thick;
        padding: 4px 0px 4px 4px;
    }

    .select2-container {
        width: 100%;
    }

        .select2-container .select2-choice > .select2-chosen {
            padding-top: 4px;
            min-width: 100%;
            max-width: 100%;
        }

    .TicketAssigneeClass .select2-container {
        width: 155px !important;
    }

    .TickettypeClass .select2-container {
        width: 153px !important;
    }

    .ticketSubjectDashboardClass .select2-container {
        width: 136px !important;
    }

    .borderlesscoloumn {
        border: none !important;
    }

    .ticketsStatus .select2-container {
        width: 136px !important;
    }

    #ticketrows {
        font-size: 16px;
        font-weight: bold;
    }

    #ticketuser {
        padding-left: 38px;
    }

    .dataTables_wrapper .dataTables_paginate .paginate_button.disabled {
        margin-left: -14px;
    }

    .vl {
        border: 0px !important;
    }

    .Tabletdwithoutborder {
        float: left;
        border: 1px solid white !important;
    }
</style>
<style>



    .main-label li {
        margin-bottom: 10px;
    }

    .patient-dashboard-label {
        position: relative;
        color: #ffffff;
        display: inline-block;
        float: left;
        font-size: 1.5em;
        height: 76px;
        padding: 20px 23px 23px 10px;
        width: 350px;
        background-color: #34a0ca;
        border: 1px solid #00658b;
    }

    .main-label li:first-child .patient-dashboard-label {
        /*background-color: #f06326 !important;*/
        /*border-color: #bf3b00 !important;*/
        background-color: #0364bd !important;
        border-color: #0c2b96 !important;
    }

    .patient-dashboard-label:before {
        content: "";
        position: absolute;
        right: -3px;
        top: -3px;
        width: 50px;
        height: 50px;
        background-color: #dddddd;
        background-size: cover;
        clip-path: polygon(0% 0%, 100% 100%, 100% 0%);
    }

    .patient-dashboard-label:after {
        content: "";
        position: absolute;
        right: -3px;
        bottom: -3px;
        width: 50px;
        height: 50px;
        background-color: #dddddd;
        background-size: cover;
        clip-path: polygon(0% 100%, 100% 100%, 100% 0%);
    }

    .patient-dashboard-quantity {
        background-color: #34a0ca;
        border: 1px solid #00658b;
        color: #ffffff;
        display: inline-block;
        font-size: 2.3em;
        font-weight: 600;
        height: 76px;
        margin-left: 10px;
        padding: 0 10px;
        width: 180px;
    }

    .main-label li:first-child .patient-dashboard-quantity {
        /*background-color: #f06326 !important;*/
        /*border-color: #bf3b00 !important;*/
        background-color: #0364bd !important;
        border-color: #0c2b96 !important;
    }

    .patient-dashboard-quantity small {
        font-size: 18px;
    }

    .label-detail {
        border: 1px solid #ccc;
        border-radius: 15px;
        font-size: 1.2em;
        margin-left: -30px;
        margin-top: 70px;
        padding: 15px 10px 15px 35px;
        width: 100%;
        position: relative;
        background: linear-gradient(to bottom, #ffffff 0%,#f2f2f2 100%);
    }

        .label-detail img:first-child {
            left: -21px;
            position: absolute;
            top: 20px;
        }

    .patient-reading {
        width: 540px;
        display: block;
        margin: 0 auto;
        border: 1px solid #ccc;
        background: linear-gradient(to bottom, #ffffff 0%,#f2f2f2 100%);
    }

        .patient-reading li {
            display: inline-block;
            text-align: center;
            font-size: 1.3em;
            line-height: 1.3em;
            margin: 1.6666%;
            width: 29.4%;
        }

    .care-circle-section {
        background: transparent url(https://connect.iglucose.com/dashboard/images/circle.png) no-repeat scroll center 110px;
        height: 760px;
        padding: 20px 15px;
    }

    p.guideline-area {
        width: 520px;
        text-align: left;
        font-size: 20px;
    }
</style>



@*<link href="//cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" />*@


<div class="row">
    <div class="container-fluid">
        <ul class="nav nav-tabs">
            <li class="active">
                <a data-toggle="tab" style="color:white;background-color: #1d63a5;" href="#logbook">Log Book</a>
            </li>
            <li>
                <a data-toggle="tab" style="color:white;background-color: #1d63a5;" href="#patientdashboard">Patient Dashboard</a>
            </li>
        </ul>
        <div class="tab-content">
            <div id="logbook" class="tab-pane fade in active">
                <div class="mt-4" id="PatientReadingPage">
                    <div class="row" style="margin-top: -10px;
    margin-bottom: 14px;">
                        @using (Html.BeginForm("BloodSugarAjax", "Rpm", FormMethod.Post, new { @id = "ReadingRequestForm", role = "form", enctype = "multipart/form-data" }))
                        {
                            @Html.HiddenFor(model => model.PatientId, new { })
                            <div class="row mt-3 filters-row-custom box-shadow">
                                <div class="col-md-2">
                                    <div class="filters">
                                        <span class="filter-icons">
                                            <i class="fa fa-calendar fa-2x"></i>
                                        </span>
                                        <span class="filter-label">
                                            Start Date
                                        </span>
                                        <div class="filter-input">
                                            @Html.TextBoxFor(model => model.StartDate, new { @type = "date", @class = "pickerdate form-control" })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="filters">
                                        <span class="filter-icons">
                                            <i class="fa fa-calendar fa-2x"></i>
                                        </span>
                                        <span class="filter-label">
                                            End Date
                                        </span>
                                        <div class="filter-input">
                                            @Html.TextBoxFor(model => model.EndDate, new { @type = "date", @class = "pickerdate  form-control" })
                                        </div>
                                    </div>
                                </div>

                                <div style="float: right; margin-right: 50px;">
                                    <button style="margin-top: 17px;" type="button" onclick="LoadData()" class="btn btn-success">Search</button>
                                </div>

                            </div>
                        }
                    </div>
                    <br />
                    <div id="LoadRpmLogsTable">
                        @if (Model != null)
                        {
                            if (Model.PatientLogBookList != null)
                            {
                                if (Model.PatientLogBookList.Count > 0)
                                {
                                    <table id="ReadingDataTable" class="mt-4" style="width:100%">

                                        <thead>
                                            <tr style="color:white">
                                                <td hidden></td>
                                                <td style="width:12% ; text-align:center"> Date Recorded</td>
                                                <td style="width:22%; text-align:center">
                                                    Morning 12 AM To 10 AM
                                                    <br />
                                                    <hr style="display: block; height: 1px;border: 0; border-top: 1px solid #ccc;margin: 1em 0; padding: 0;" />
                                                    <table class="Tablewithoutborder">
                                                        <thead>
                                                            <tr class="TableTrwithoutborder">
                                                                <td class="Tabletdwithoutborder" style="float:left;width: 74%;">Before Meal</td>
                                                                <td class="vl">
                                                                    <div></div>
                                                                </td>
                                                                <td class="Tabletdwithoutborder" style="float:right;width: 81%;">After Meal</td>
                                                            </tr>
                                                        </thead>
                                                    </table>
                                                </td>
                                                <td style="width:22% ; text-align:center">
                                                    Afternoon 10 AM To 3 PM
                                                    <br />
                                                    <hr style="display: block; height: 1px;border: 0; border-top: 1px solid #ccc;margin: 1em 0; padding: 0;" />
                                                    <table class="Tablewithoutborder">
                                                        <thead>

                                                            <tr class="TableTrwithoutborder">
                                                                <td class="Tabletdwithoutborder" style="float:left;width: 74%;">Before Meal</td>
                                                                <td class="vl">
                                                                    <div></div>
                                                                </td>
                                                                <td class="Tabletdwithoutborder" style="float:right;width: 81%;">After Meal</td>
                                                            </tr>
                                                        </thead>
                                                    </table>
                                                </td>
                                                <td style="width:22% ; text-align:center">
                                                    Evening  3 PM To 9 PM
                                                    <br />
                                                    <hr style="display: block; height: 1px;border: 0; border-top: 1px solid #ccc;margin: 1em 0; padding: 0;" />
                                                    <table class="Tablewithoutborder">
                                                        <thead>

                                                            <tr class="TableTrwithoutborder">
                                                                <td class="Tabletdwithoutborder" style="float:left;width: 74%;">Before Meal</td>
                                                                <td class="vl">
                                                                    <div></div>
                                                                </td>
                                                                <td class="Tabletdwithoutborder" style="float:right;width: 81%;">After Meal</td>
                                                            </tr>
                                                        </thead>
                                                    </table>
                                                </td>
                                                <td style="width:22%; text-align:center">
                                                    Night  9 PM To 12 AM
                                                    <br />
                                                    <hr style="display: block; height: 1px;border: 0; border-top: 1px solid #ccc;margin: 1em 0; padding: 0;" />
                                                    <table class="Tablewithoutborder">
                                                        <thead>
                                                            <tr class="TableTrwithoutborder">
                                                                <td class="Tabletdwithoutborder" style="float:left;width: 74%;">Before Meal</td>
                                                                <td class="vl">
                                                                    <div></div>
                                                                </td>
                                                                <td class="Tabletdwithoutborder" style="float:right;width: 81%;">After Meal</td>
                                                            </tr>
                                                        </thead>
                                                    </table>
                                                </td>


                                            </tr>
                                        </thead>
                                        <tbody id="BloodSugarLogsbody">


                                            @for (int i = 0; i < Model.PatientLogBookList.Count; i++)
                                            {

                                                <tr>
                                                    <td hidden>
                                                        @Model.PatientLogBookList[i].Date_recorded
                                                    </td>

                                                    <td>
                                                        @Model.PatientLogBookList[i].Date_recorded.Value.DayOfWeek
                                                        <br />
                                                        @GetDate(Model.PatientLogBookList[i].Date_recorded)
                                                    </td>



                                                    <td>
                                                        @if (Model.PatientLogBookList[i].Morning_12_to_10_AM != 0)
                                                        {
                                                            if (Model.PatientLogBookList[i].Before_meal == true)
                                                            {
                                                                <table style="width:100%">
                                                                    <tr style="width:100%">
                                                                        <td style="width:50%; background-color:@getStatus(Model.PatientLogBookList[i].Morning_12_to_10_AM,Model.PatientLogBookList[i].Before_meal)">
                                                                            <span class="Reading-value">
                                                                                @Model.PatientLogBookList[i].Morning_12_to_10_AM mg/dl
                                                                            </span>
                                                                            <br />
                                                                            @{
                                                                                var time = Convert.ToDateTime(Model.PatientLogBookList[i].Date_recorded);
                                                                                <text>@time.ToShortTimeString()</text>
                                                                            }

                                                                        </td>
                                                                        <td style="width:50%"></td>
                                                                    </tr>
                                                                </table>
                                                            }
                                                            else
                                                            {
                                                                <table style="width:100%">
                                                                    <tr style="width:100%">
                                                                        <td style="width:50%"></td>
                                                                        <td style="width:50%;background-color:@getStatus(Model.PatientLogBookList[i].Morning_12_to_10_AM,Model.PatientLogBookList[i].Before_meal)">

                                                                            <span class="Reading-value">
                                                                                @Model.PatientLogBookList[i].Morning_12_to_10_AM mg/dl
                                                                            </span>
                                                                            <br />
                                                                            @{
                                                                                var time = Convert.ToDateTime(Model.PatientLogBookList[i].Date_recorded);
                                                                                <text>@time.ToShortTimeString()</text>
                                                                            }
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            }
                                                        }



                                                    </td>
                                                    <td>
                                                        @if (Model.PatientLogBookList[i].Morning_10_to_3_PM != 0)
                                                        {
                                                            if (Model.PatientLogBookList[i].Before_meal == true)
                                                            {
                                                                <table style="width:100%">
                                                                    <tr style="width:100%">
                                                                        <td style="width:50%;background-color:@getStatus(Model.PatientLogBookList[i].Morning_10_to_3_PM,Model.PatientLogBookList[i].Before_meal)">
                                                                            <span class="Reading-value">
                                                                                @Model.PatientLogBookList[i].Morning_10_to_3_PM mg/dl
                                                                            </span>
                                                                            <br />
                                                                            @{
                                                                                var time = Convert.ToDateTime(Model.PatientLogBookList[i].Date_recorded);
                                                                                <text>@time.ToShortTimeString()</text>
                                                                            }
                                                                        </td>
                                                                        <td style="width:50%"></td>
                                                                    </tr>
                                                                </table>
                                                            }
                                                            else
                                                            {
                                                                <table style="width:100%">
                                                                    <tr style="width:100%">
                                                                        <td style="width:50%"></td>
                                                                        <td style="width:50%;background-color:@getStatus(Model.PatientLogBookList[i].Morning_10_to_3_PM,Model.PatientLogBookList[i].Before_meal)">

                                                                            <span class="Reading-value">
                                                                                @Model.PatientLogBookList[i].Morning_10_to_3_PM mg/dl
                                                                            </span>
                                                                            <br />
                                                                            @{
                                                                                var time = Convert.ToDateTime(Model.PatientLogBookList[i].Date_recorded);
                                                                                <text>@time.ToShortTimeString()</text>
                                                                            }
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            }
                                                        }
                                                    </td>
                                                    <td>
                                                        @if (Model.PatientLogBookList[i].Morning_3_to_9_PM != 0)
                                                        {
                                                            if (Model.PatientLogBookList[i].Before_meal == true)
                                                            {
                                                                <table style="width:100%">
                                                                    <tr style="width:100%">
                                                                        <td style="width:50%;background-color:@getStatus(Model.PatientLogBookList[i].Morning_3_to_9_PM,Model.PatientLogBookList[i].Before_meal)">
                                                                            <span class="Reading-value">
                                                                                @Model.PatientLogBookList[i].Morning_3_to_9_PM mg/dl
                                                                            </span>
                                                                            <br />
                                                                            @{
                                                                                var time = Convert.ToDateTime(Model.PatientLogBookList[i].Date_recorded);
                                                                                <text>@time.ToShortTimeString()</text>
                                                                            }
                                                                        </td>
                                                                        <td style="width:50%"></td>
                                                                    </tr>
                                                                </table>
                                                            }
                                                            else
                                                            {
                                                                <table style="width:100%">
                                                                    <tr style="width:100%">
                                                                        <td style="width:50%"></td>
                                                                        <td style="width:50%;background-color:@getStatus(Model.PatientLogBookList[i].Morning_3_to_9_PM,Model.PatientLogBookList[i].Before_meal)">
                                                                            <span class="Reading-value">
                                                                                @Model.PatientLogBookList[i].Morning_3_to_9_PM mg/dl
                                                                            </span>
                                                                            <br />
                                                                            @{
                                                                                var time = Convert.ToDateTime(Model.PatientLogBookList[i].Date_recorded);
                                                                                <text>@time.ToShortTimeString()</text>
                                                                            }
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            }
                                                        }

                                                    </td>
                                                    <td>
                                                        @if (Model.PatientLogBookList[i].Morning_9_to_12_AM != 0)
                                                        {
                                                            if (Model.PatientLogBookList[i].Before_meal == true)
                                                            {
                                                                <table style="width:100%">
                                                                    <tr style="width:100%">
                                                                        <td style="width:50% ;background-color:@getStatus(Model.PatientLogBookList[i].Morning_9_to_12_AM,Model.PatientLogBookList[i].Before_meal)">
                                                                            <span class="Reading-value">
                                                                                @Model.PatientLogBookList[i].Morning_9_to_12_AM mg/dl
                                                                            </span>
                                                                            <br />
                                                                            @{
                                                                                var time = Convert.ToDateTime(Model.PatientLogBookList[i].Date_recorded);
                                                                                <text>@time.ToShortTimeString()</text>
                                                                            }
                                                                        </td>
                                                                        <td style="width:50%"></td>
                                                                    </tr>
                                                                </table>
                                                            }
                                                            else
                                                            {
                                                                <table style="width:100%">
                                                                    <tr style="width:100%">
                                                                        <td style="width:50%"></td>
                                                                        <td style="width:50% ;background-color:@getStatus(Model.PatientLogBookList[i].Morning_9_to_12_AM,Model.PatientLogBookList[i].Before_meal)">
                                                                            <span class="Reading-value">
                                                                                @Model.PatientLogBookList[i].Morning_9_to_12_AM mg/dl
                                                                            </span>
                                                                            <br />
                                                                            @{
                                                                                var time = Convert.ToDateTime(Model.PatientLogBookList[i].Date_recorded);
                                                                                <text>@time.ToShortTimeString()</text>
                                                                            }
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            }
                                                        }

                                                    </td>


                                                </tr>
                                            }
                                        <tbody>
                                    </table>

                                }
                            }
                        }
                    </div>
                </div>
            </div>
            <div id="patientdashboard" class="tab-pane fade">
                @if (Model != null)
                {
                    if (Model.DeviceReadingPatientDashboard != null)
                    {
                        <h3 class="mb-5">Patient Dashboard</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-unstyled main-label">
                                    <li>
                                        <div class="patient-dashboard-label">Total Tests</div>
                                        <div class="patient-dashboard-quantity">@Model.DeviceReadingPatientDashboard.TotalTest </div>
                                    </li>
                                    <li>
                                        <div class="patient-dashboard-label">Average Tests Per Day</div>
                                        <div class="patient-dashboard-quantity">@Model.DeviceReadingPatientDashboard.AverageTestPerDay </div>
                                    </li>
                                    <li>
                                        <div class="patient-dashboard-label">Average Glucose Level</div>
                                        <div class="patient-dashboard-quantity">
                                            @Model.DeviceReadingPatientDashboard.AverageGlucoseLevel
                                        <small>mg/dl</small>
                                    </div>
                                </li>
                                <li>
                                    <div class="patient-dashboard-label">Lowest Glucose Level</div>
                                    <div class="patient-dashboard-quantity">
                                        @Model.DeviceReadingPatientDashboard.AverageGlucoseLevel
                                    <small>mg/dl</small>
                                </div>
                            </li>
                            <li>
                                <div class="patient-dashboard-label">Highest Glucose Level</div>
                                <div class="patient-dashboard-quantity">
                                    @Model.DeviceReadingPatientDashboard.HighestGlucoseLevel
                                <small>mg/dl</small>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <div class="label-detail">
                        <img src="https://connect.iglucose.com/dashboard/images/tpd_pointer.png" />
                        <img src="https://connect.iglucose.com/dashboard/images/dash_emo_point.png" />
                        <p>Don't forget to check your blood sugars, it can help you manage your diabetes</p>
                    </div>
                </div>
            </div>


            @*<table style="width:100%; ">
                    <tr style="width:100%">
                        <td style="width:65%;background-color:#0000ff;color:white">Total Test</td>
                        <td style="width:35%;background-color:#0000ff;color:white">@Model.DeviceReadingPatientDashboard.TotalTest </td>
                    </tr>
                    <tr style="width:100%">
                        <td style="width:65%;background-color:#6699ff;color:white">Average Tests Per Day</td>
                        <td style="width:35%;background-color:#6699ff;color:white">@Model.DeviceReadingPatientDashboard.AverageTestPerDay </td>
                    </tr>
                    <tr style="width:100%">
                        <td style="width:65%;background-color:#6699ff;color:white">Average Glucose Level</td>
                        <td style="width:35%;background-color:#6699ff;color:white">@Model.DeviceReadingPatientDashboard.AverageGlucoseLevel </td>
                    </tr>
                    <tr style="width:100%">
                        <td style="width:65%;background-color:#6699ff;color:white">Lowest Glucose Level</td>
                        <td style="width:35%;background-color:#6699ff;color:white">@Model.DeviceReadingPatientDashboard.LowestGlucoseLevel </td>
                    </tr>
                    <tr style="width:100%">
                        <td style="width:65%;background-color:#6699ff;color:white">Highest Glucose Level</td>
                        <td style="width:35%;background-color:#6699ff;color:white">@Model.DeviceReadingPatientDashboard.HighestGlucoseLevel </td>
                    </tr>

                </table>*@
        }
    }
            </div>
        </div>
    </div>
</div>


<script src="//cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js" type="text/javascript"></script>
<style>
    .Tablewithoutborder {
        border: 0px solid black;
        width: 100%;
        text-align: center;
    }

    .TableTrwithoutborder {
        border: 0px solid black;
        width: 100%;
    }

    .Tabletdwithoutborder {
        border: 0px solid black;
        width: 49%;
    }

    .vl {
        border-left: 1px solid;
        width: 2%;
    }
</style>
<script>

    $(document).ready(function () {




        table = $("#ReadingDataTable").dataTable({
            //"order": [[0, "desc"]],
            pageLength: 10

        });
    })



    function LoadData() {
        $(".loader").show();
        var valdata = $("#ReadingRequestForm").serialize();
        $.ajax({
            type: "POST",
            data: valdata,
            url: "/Rpm/BloodSugarAjax",
            success: function (data) {
                $(".loader").hide();

                debugger;

                $("#LoadRpmLogsTable").html(data);

            },
            error: function (error) {
                $(".loader").hide();
                alert("Error");
            }
        })
    }

    var applyDT = function () {
        $("#ReadingDataTable").dataTable();
    }

    var DestroyDT = function () {
        $('#ReadingDataTable').DataTable().clear().destroy();
    }

</script>



@functions {
    string GetDate(DateTime? Date)
    {
        var date = Convert.ToDateTime(Date);
        var day = date.Day;
        var month = date.Month;
        var year = date.Year;
        string datestr = date.ToString("mm/dd/yyyy");
        if (datestr == "00/01/0001")
        {
            return "";
        }
        datestr = month + "/" + day + "/" + year;
        return datestr;
    }
    string getStatus(double? value, bool BeforeMeal)
    {
        if (BeforeMeal == true)
        {
            if (value < 70)
            {
                return "#fff2d9";
            }
            else if (value >= 70 && value <= 100)
            {
                return "#d9ffd9";
            }
            else
            {
                return "#ffd9d9";
            }
        }
        else
        {
            if (value < 70)
            {
                return "#fff2d9";
            }
            else if (value >= 100 && value <= 140)
            {
                return "#d9ffd9";
            }
            else
            {
                return "#ffd9d9";
            }
        }

    }
}